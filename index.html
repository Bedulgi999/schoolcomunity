<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>🏫 우리 학교 커뮤니티</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

<header class="header">
  <div class="logo" id="home-btn">🏫 우리 학교 커뮤니티</div>

  <nav class="nav">
    <button class="nav-btn" data-category="">전체</button>
    <button class="nav-btn" data-category="공지">공지사항</button>
    <button class="nav-btn" data-category="자유">자유게시판</button>
    <button class="nav-btn" data-category="질문">질문답변</button>
    <button class="nav-btn" data-category="동아리">동아리</button>
  </nav>

  <div class="auth-area" id="auth-area"></div>
</header>

<main class="container">
  <section class="content">

    <div class="flash" id="flash-msg"></div>

    <div class="board-header">
      <h2 id="board-title">게시판</h2>

      <form id="search-form">
        <input type="text" id="search-input" placeholder="검색어를 입력하세요">
        <button type="submit">검색</button>
      </form>
    </div>

    <div class="card hidden" id="write-card">
      <h3>✏️ 새 글 작성</h3>

      <form id="write-form">
        <label>말머리</label>
        <select id="write-category">
          <option value="자유">자유</option>
          <option value="공지">공지 (관리자)</option>
          <option value="질문">질문</option>
          <option value="정보">정보</option>
          <option value="동아리">동아리</option>
        </select>

        <label>제목</label>
        <input type="text" id="write-title" required>

        <label>내용</label>
        <textarea id="write-content" rows="6" required></textarea>

        <label>이미지 업로드 (여러 장)</label>
        <input type="file" id="write-images" accept="image/*" multiple>
        <div class="image-preview" id="write-preview"></div>

        <div class="write-actions">
          <button type="submit" class="btn-primary">등록</button>
          <button type="button" class="btn-secondary" id="cancel-write">취소</button>
        </div>
      </form>
    </div>

    <table class="post-table">
      <thead>
        <tr>
          <th>말머리</th>
          <th>제목</th>
          <th>작성자</th>
          <th>작성일</th>
        </tr>
      </thead>
      <tbody id="post-list"></tbody>
    </table>

    <section class="post-detail hidden" id="post-detail">
      <button id="back-list" class="btn-secondary small">← 목록으로</button>

      <article class="post-inner">
        <div class="post-header">
          <div id="detail-category" class="post-category"></div>
          <h2 id="detail-title"></h2>
          <div class="post-meta">
            <span id="detail-author"></span>
            <span id="detail-date"></span>
          </div>
        </div>

        <div id="detail-images" class="post-images"></div>
        <div id="detail-content" class="post-body"></div>

        <button class="btn-danger hidden" id="delete-post">게시글 삭제 (관리자)</button>
      </article>

      <section class="comments">
        <h3>댓글</h3>
        <ul id="comment-list"></ul>
        <div id="comment-form"></div>
      </section>
    </section>

  </section>

  <aside class="sidebar">
    <div class="card">
      <h3>📌 안내</h3>
      <p>학교 커뮤니티 연습용 사이트<br>욕설 금지, 개인정보 게시 금지</p>
    </div>

    <div class="card" id="login-card">
      <h3>로그인</h3>
      <form id="login-form">
        <label>아이디</label>
        <input type="text" id="login-username" required>

        <label>비밀번호</label>
        <input type="password" id="login-password" required>

        <button type="submit" class="btn-primary full">로그인</button>
      </form>
      <p>회원이 아니신가요? <button class="link" id="goto-register">회원가입</button></p>
    </div>

    <div class="card hidden" id="register-card">
      <h3>회원가입</h3>
      <form id="register-form">
        <label>아이디</label>
        <input type="text" id="register-username" required>

        <label>비밀번호</label>
        <input type="password" id="register-password" required>

        <button type="submit" class="btn-primary full">회원가입</button>
      </form>
      <p>이미 계정이 있으신가요? <button class="link" id="goto-login">로그인</button></p>
    </div>
  </aside>
</main>

<footer class="footer">
  <div>© 2025 우리 학교 커뮤니티</div>
</footer>

<script src="/main.js"></script>
</body>
</html>
